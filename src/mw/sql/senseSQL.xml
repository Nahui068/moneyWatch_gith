<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

 
<mapper namespace="sense">
	<!-- 카테고리 선택 -->	
	<select id="categorySelect" resultType="senseDTO" parameterType="String">
		select * from mwsense where	(
				select sense_detail_category from mwsense_category where sense_detail_category=#{gategory}
			)
	</select>
	<!-- 카테고리 리스트 -->
	<select id="category" resultType="sensecategoryDTO">
		select sense_detail_category from mwsense_category order by num asc
	</select>
	
	
	<!-- 센스 직접 입력 /  파일제외-->
	<insert id="insert" parameterType="senseDTO">
		insert into mwsense values (
			mwsense_seq.nextval, 
			#{main_set},
			#{sense_category},
			#{sense_title},
			#{sense_content},
			#{sense_url}, 
			null,
			sysdate)
	</insert>
	
	
	<!-- 센스 직접 입력 확인 -->
	<select id="insertCheck" resultType="int" parameterType="senseDTO">
		select count(*) from mwsense where sense_url=#{sense_url}
	</select>
	
	<!-- 파일업로드를 하기 위한 max num값 출력 -->
	<select id="maxNum" resultType="int">
		select max(num) from mwsense
	</select>
														
</mapper>
