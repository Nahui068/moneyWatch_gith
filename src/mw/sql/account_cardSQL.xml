<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="account_card">

	<!-- 카드 정보 가져오기 -->
	<select id="card_select" resultType="cardDTO">
		select * from mwCard
	</select>
	
	<!-- 카드사 및 카드이름-->
	<select id="card_cn" resultType="cardDTO" parameterType="String">
		select distinct company,card_name from mwCard where company = #{value}
	</select>
	
	<!-- 카드사 -->
	<select id="card_company" resultType="cardDTO">
		select distinct company from mwCard
	</select>
	
	<!-- 카드/계좌 DB insert -->
	<insert id="ac_insert" parameterType="accountCardDTO">
		insert into mwRegister_CA values(CAregister_seq.nextval,#{ca_set},#{id},#{ca_company},#{ca_name},#{ca_nickname})	
	</insert>

	<!-- 카드 정보 이미지 DB insert -->
	<insert id="card_img_insert" parameterType="Card_imgDTO">
		insert into card_img values(card_seq.nextval,#{img_cnt},#{company},#{path})
	</insert>
</mapper>